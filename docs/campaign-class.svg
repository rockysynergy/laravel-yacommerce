<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="737px" preserveAspectRatio="none" style="width:846px;height:737px;" version="1.1" viewBox="0 0 846 737" width="846px" zoomAndPan="magnify"><defs><filter height="300%" id="fip7ehe60huph" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class OrderInfo--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="163.938" id="OrderInfo" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="6" y="8"/><ellipse cx="87.75" cy="29.3887" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M86.6719,34.748 Q84.6406,34.748 83.4531,33.248 Q82.2813,31.748 82.2813,28.6387 Q82.2813,25.998 83.5313,24.2324 Q84.7813,22.4512 86.9375,22.4512 Q87.4688,22.4512 87.9375,22.623 Q88.4063,22.7793 88.6719,22.7793 Q88.8594,22.7793 88.9531,22.748 Q89.0469,22.7012 89.5938,21.9824 L90.4063,25.9512 L89.3594,26.2637 Q88.9063,24.7637 88.3125,24.1855 Q87.7344,23.5918 86.8125,23.5918 Q85.6406,23.5918 84.9375,24.998 Q84.2344,26.3887 84.2344,28.5605 Q84.2344,30.9512 84.8281,32.2168 Q85.4375,33.4668 86.75,33.4668 Q87.6719,33.4668 88.3438,32.7949 Q89.0156,32.1074 89.3438,30.5293 L90.3906,31.0293 Q89.9844,32.7949 89,33.7793 Q88.0156,34.748 86.6719,34.748 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="85" x="106.25" y="26.752">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="123.25" y="43.1406">OrderInfo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="258" y1="50.7773" y2="50.7773"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="58.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="26" y="67.3833">user: User</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="73.8003"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="26" y="82.4063">products: array</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="258" y1="88.8232" y2="88.8232"/><ellipse cx="17" cy="99.8232" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="26" y="105.4292">__construct(User user, Products products = [])</text><ellipse cx="17" cy="114.8462" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="26" y="120.4521">user():User</text><ellipse cx="17" cy="129.8691" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="26" y="135.4751">products():[]</text><ellipse cx="17" cy="144.8921" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="26" y="150.498">getTotal():int</text><ellipse cx="17" cy="159.915" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="26" y="165.521">getParticipateCount():int</text><!--class CampaignInterface--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="123.1147" id="CampaignInterface" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="294" y="28.5"/><ellipse cx="334.65" cy="44.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M331.2438,38.7813 L331.2438,37.6875 L337.2438,37.6875 L337.2438,38.7813 L335.3688,38.7813 Q335.2281,38.7813 335.1656,38.8281 Q335.1188,38.8594 335.1188,38.9688 L335.1188,48.4531 Q335.1188,48.5625 335.1656,48.6094 Q335.2281,48.6406 335.3688,48.6406 L337.2438,48.6406 L337.2438,49.7344 L331.2438,49.7344 L331.2438,48.6406 L333.1188,48.6406 Q333.3063,48.6406 333.3375,48.6094 Q333.3688,48.5781 333.3688,48.4531 L333.3688,38.9688 Q333.3688,38.8438 333.3375,38.8125 Q333.3063,38.7813 333.1188,38.7813 L331.2438,38.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="354.35" y="50.0576">CampaignInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="295" x2="488" y1="60.5" y2="60.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="295" x2="488" y1="68.5" y2="68.5"/><ellipse cx="305" cy="79.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="314" y="85.106">getStartTime(): DateTime</text><ellipse cx="305" cy="94.5229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="314" y="100.1289">getEndTime(): DateTime</text><ellipse cx="305" cy="109.5459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="314" y="115.1519">addProduct(Product $product):void</text><ellipse cx="305" cy="124.5688" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="314" y="130.1748">calculatePrice(OrderInfo order):int</text><ellipse cx="305" cy="139.5918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="314" y="145.1978">isQualified(OrderInfo order):bool</text><!--class PricePolicyInterface--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="63.0229" id="PricePolicyInterface" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="202.5" y="256.5"/><ellipse cx="239.55" cy="272.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236.1438,266.7813 L236.1438,265.6875 L242.1438,265.6875 L242.1438,266.7813 L240.2688,266.7813 Q240.1281,266.7813 240.0656,266.8281 Q240.0188,266.8594 240.0188,266.9688 L240.0188,276.4531 Q240.0188,276.5625 240.0656,276.6094 Q240.1281,276.6406 240.2688,276.6406 L242.1438,276.6406 L242.1438,277.7344 L236.1438,277.7344 L236.1438,276.6406 L238.0188,276.6406 Q238.2063,276.6406 238.2375,276.6094 Q238.2688,276.5781 238.2688,276.4531 L238.2688,266.9688 Q238.2688,266.8438 238.2375,266.8125 Q238.2063,266.7813 238.0188,266.7813 L236.1438,266.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="109" x="258.45" y="278.0576">PricePolicyInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="203.5" x2="391.5" y1="288.5" y2="288.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="203.5" x2="391.5" y1="296.5" y2="296.5"/><ellipse cx="213.5" cy="307.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="222.5" y="313.106">calculatePrice(OrderInfo order):int</text><!--class PriceStrategyInterface--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="63.0229" id="PriceStrategyInterface" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="263.5" y="554"/><ellipse cx="284.35" cy="570" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M280.9438,564.2813 L280.9438,563.1875 L286.9438,563.1875 L286.9438,564.2813 L285.0688,564.2813 Q284.9281,564.2813 284.8656,564.3281 Q284.8188,564.3594 284.8188,564.4688 L284.8188,573.9531 Q284.8188,574.0625 284.8656,574.1094 Q284.9281,574.1406 285.0688,574.1406 L286.9438,574.1406 L286.9438,575.2344 L280.9438,575.2344 L280.9438,574.1406 L282.8188,574.1406 Q283.0063,574.1406 283.0375,574.1094 Q283.0688,574.0781 283.0688,573.9531 L283.0688,564.4688 Q283.0688,564.3438 283.0375,564.3125 Q283.0063,564.2813 282.8188,564.2813 L280.9438,564.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="299.65" y="575.5576">PriceStrategyInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="264.5" x2="428.5" y1="586" y2="586"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="264.5" x2="428.5" y1="594" y2="594"/><ellipse cx="274.5" cy="605" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="283.5" y="610.606">calculate(OrderInfo order):int</text><!--class QualificationPolicyInterface--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="63.0229" id="QualificationPolicyInterface" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="588.5" y="256.5"/><ellipse cx="603.95" cy="272.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M600.5438,266.7813 L600.5438,265.6875 L606.5438,265.6875 L606.5438,266.7813 L604.6688,266.7813 Q604.5281,266.7813 604.4656,266.8281 Q604.4188,266.8594 604.4188,266.9688 L604.4188,276.4531 Q604.4188,276.5625 604.4656,276.6094 Q604.5281,276.6406 604.6688,276.6406 L606.5438,276.6406 L606.5438,277.7344 L600.5438,277.7344 L600.5438,276.6406 L602.4188,276.6406 Q602.6063,276.6406 602.6375,276.6094 Q602.6688,276.5781 602.6688,276.4531 L602.6688,266.9688 Q602.6688,266.8438 602.6375,266.8125 Q602.6063,266.7813 602.4188,266.7813 L600.5438,266.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="149" x="618.05" y="278.0576">QualificationPolicyInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="589.5" x2="769.5" y1="288.5" y2="288.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="589.5" x2="769.5" y1="296.5" y2="296.5"/><ellipse cx="599.5" cy="307.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="608.5" y="313.106">isQualified(OrderInfo order):bool</text><!--class QualificaitonStrategyInterface--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="63.0229" id="QualificaitonStrategyInterface" style="stroke: #A80036; stroke-width: 1.5;" width="330" x="489.5" y="554"/><ellipse cx="569.75" cy="570" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M566.3438,564.2813 L566.3438,563.1875 L572.3438,563.1875 L572.3438,564.2813 L570.4688,564.2813 Q570.3281,564.2813 570.2656,564.3281 Q570.2188,564.3594 570.2188,564.4688 L570.2188,573.9531 Q570.2188,574.0625 570.2656,574.1094 Q570.3281,574.1406 570.4688,574.1406 L572.3438,574.1406 L572.3438,575.2344 L566.3438,575.2344 L566.3438,574.1406 L568.2188,574.1406 Q568.4063,574.1406 568.4375,574.1094 Q568.4688,574.0781 568.4688,573.9531 L568.4688,564.4688 Q568.4688,564.3438 568.4375,564.3125 Q568.4063,564.2813 568.2188,564.2813 L566.3438,564.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="590.25" y="575.5576">QualificaitonStrategyInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="490.5" x2="818.5" y1="586" y2="586"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="490.5" x2="818.5" y1="594" y2="594"/><ellipse cx="500.5" cy="605" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="509.5" y="610.606">isQualified(CampaignInterface $campaign OrderInfo order):bool</text><!--class OrmModel--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="108.0918" id="OrmModel" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="689.5" y="36"/><ellipse cx="730.15" cy="52" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M730.5875,51.9844 L728.15,51.9844 L727.6188,54.2344 Q727.5094,54.75 727.5719,54.9531 Q727.65,55.1406 727.8844,55.1406 L728.4313,55.1406 L728.4313,56.2344 L725.2906,56.2344 L725.2906,55.1406 L725.8219,55.1406 Q725.9625,55.1406 726.0719,55.0625 Q726.1813,54.9688 726.2125,54.7031 L728.8688,44.3281 L730.4,43.8281 L732.9938,54.6719 Q733.1031,54.9531 733.2125,55.0469 Q733.3219,55.1406 733.4625,55.1406 L734.0094,55.1406 L734.0094,56.2344 L730.4625,56.2344 L730.4625,55.1406 L731.0719,55.1406 Q731.2438,55.1406 731.275,55.0781 Q731.3063,55 731.2125,54.6406 L730.5875,51.9844 Z M729.4156,45.8125 L729.4781,45.8125 L728.4625,50.8906 L730.3688,50.8906 L729.4156,45.8125 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="749.85" y="57.5576">OrmModel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="834.5" y1="68" y2="68"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="690.5" x2="834.5" y1="76" y2="76"/><ellipse cx="700.5" cy="87" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="709.5" y="92.606">createInstance():void</text><ellipse cx="700.5" cy="102.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="709.5" y="107.6289">updateInstance():void</text><ellipse cx="700.5" cy="117.0459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="709.5" y="122.6519">findById(int id):OrmModel</text><ellipse cx="700.5" cy="132.0688" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="709.5" y="137.6748">delete(int id):void</text><!--class Campaign--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="73.8003" id="Campaign" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="427.5" y="251"/><ellipse cx="454.65" cy="272.3887" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M453.5719,277.748 Q451.5406,277.748 450.3531,276.248 Q449.1813,274.748 449.1813,271.6387 Q449.1813,268.998 450.4313,267.2324 Q451.6813,265.4512 453.8375,265.4512 Q454.3688,265.4512 454.8375,265.623 Q455.3063,265.7793 455.5719,265.7793 Q455.7594,265.7793 455.8531,265.748 Q455.9469,265.7012 456.4938,264.9824 L457.3063,268.9512 L456.2594,269.2637 Q455.8063,267.7637 455.2125,267.1855 Q454.6344,266.5918 453.7125,266.5918 Q452.5406,266.5918 451.8375,267.998 Q451.1344,269.3887 451.1344,271.5605 Q451.1344,273.9512 451.7281,275.2168 Q452.3375,276.4668 453.65,276.4668 Q454.5719,276.4668 455.2438,275.7949 Q455.9156,275.1074 456.2438,273.5293 L457.2906,274.0293 Q456.8844,275.7949 455.9,276.7793 Q454.9156,277.748 453.5719,277.748 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="469.35" y="269.752">«OrmModel»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="475.85" y="286.1406">Campaign</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="428.5" x2="552.5" y1="293.7773" y2="293.7773"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="428.5" x2="552.5" y1="301.7773" y2="301.7773"/><ellipse cx="438.5" cy="312.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="447.5" y="318.3833">products():Collection</text><!--class PricePolicy--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="88.8232" id="PricePolicy" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="289.5" y="404"/><ellipse cx="311.25" cy="425.3887" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M310.1719,430.748 Q308.1406,430.748 306.9531,429.248 Q305.7813,427.748 305.7813,424.6387 Q305.7813,421.998 307.0313,420.2324 Q308.2813,418.4512 310.4375,418.4512 Q310.9688,418.4512 311.4375,418.623 Q311.9063,418.7793 312.1719,418.7793 Q312.3594,418.7793 312.4531,418.748 Q312.5469,418.7012 313.0938,417.9824 L313.9063,421.9512 L312.8594,422.2637 Q312.4063,420.7637 311.8125,420.1855 Q311.2344,419.5918 310.3125,419.5918 Q309.1406,419.5918 308.4375,420.998 Q307.7344,422.3887 307.7344,424.5605 Q307.7344,426.9512 308.3281,428.2168 Q308.9375,429.4668 310.25,429.4668 Q311.1719,429.4668 311.8438,428.7949 Q312.5156,428.1074 312.8438,426.5293 L313.8906,427.0293 Q313.4844,428.7949 312.5,429.7793 Q311.5156,430.748 310.1719,430.748 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="324.75" y="422.752">«OrmModel»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="330.25" y="439.1406">PricePolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="290.5" x2="402.5" y1="446.7773" y2="446.7773"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="297.5" y="454.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="309.5" y="463.3833">strategy:string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="297.5" y="469.8003"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="309.5" y="478.4063">parameters: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="290.5" x2="402.5" y1="484.8232" y2="484.8232"/><!--class OverMinusPriceStrategy--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="48" id="OverMinusPriceStrategy" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="265.5" y="678"/><ellipse cx="280.5" cy="694" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M279.4219,699.3594 Q277.3906,699.3594 276.2031,697.8594 Q275.0313,696.3594 275.0313,693.25 Q275.0313,690.6094 276.2813,688.8438 Q277.5313,687.0625 279.6875,687.0625 Q280.2188,687.0625 280.6875,687.2344 Q281.1563,687.3906 281.4219,687.3906 Q281.6094,687.3906 281.7031,687.3594 Q281.7969,687.3125 282.3438,686.5938 L283.1563,690.5625 L282.1094,690.875 Q281.6563,689.375 281.0625,688.7969 Q280.4844,688.2031 279.5625,688.2031 Q278.3906,688.2031 277.6875,689.6094 Q276.9844,691 276.9844,693.1719 Q276.9844,695.5625 277.5781,696.8281 Q278.1875,698.0781 279.5,698.0781 Q280.4219,698.0781 281.0938,697.4063 Q281.7656,696.7188 282.0938,695.1406 L283.1406,695.6406 Q282.7344,697.4063 281.75,698.3906 Q280.7656,699.3594 279.4219,699.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="294.5" y="699.5576">OverMinusPriceStrategy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="266.5" x2="426.5" y1="710" y2="710"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="266.5" x2="426.5" y1="718" y2="718"/><!--class QualificationPolicy--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="88.8232" id="QualificationPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="588.5" y="404"/><ellipse cx="603.5" cy="425.3887" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M602.4219,430.748 Q600.3906,430.748 599.2031,429.248 Q598.0313,427.748 598.0313,424.6387 Q598.0313,421.998 599.2813,420.2324 Q600.5313,418.4512 602.6875,418.4512 Q603.2188,418.4512 603.6875,418.623 Q604.1563,418.7793 604.4219,418.7793 Q604.6094,418.7793 604.7031,418.748 Q604.7969,418.7012 605.3438,417.9824 L606.1563,421.9512 L605.1094,422.2637 Q604.6563,420.7637 604.0625,420.1855 Q603.4844,419.5918 602.5625,419.5918 Q601.3906,419.5918 600.6875,420.998 Q599.9844,422.3887 599.9844,424.5605 Q599.9844,426.9512 600.5781,428.2168 Q601.1875,429.4668 602.5,429.4668 Q603.4219,429.4668 604.0938,428.7949 Q604.7656,428.1074 605.0938,426.5293 L606.1406,427.0293 Q605.7344,428.7949 604.75,429.7793 Q603.7656,430.748 602.4219,430.748 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="632" y="422.752">«OrmModel»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="617.5" y="439.1406">QualificationPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="589.5" x2="719.5" y1="446.7773" y2="446.7773"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="596.5" y="454.7773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="608.5" y="463.3833">strategy:string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="596.5" y="469.8003"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="608.5" y="478.4063">parameters: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="589.5" x2="719.5" y1="484.8232" y2="484.8232"/><!--class ParticipateCountQualificationStrategy--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="48" id="ParticipateCountQualificationStrategy" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="537" y="678"/><ellipse cx="552" cy="694" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M550.9219,699.3594 Q548.8906,699.3594 547.7031,697.8594 Q546.5313,696.3594 546.5313,693.25 Q546.5313,690.6094 547.7813,688.8438 Q549.0313,687.0625 551.1875,687.0625 Q551.7188,687.0625 552.1875,687.2344 Q552.6563,687.3906 552.9219,687.3906 Q553.1094,687.3906 553.2031,687.3594 Q553.2969,687.3125 553.8438,686.5938 L554.6563,690.5625 L553.6094,690.875 Q553.1563,689.375 552.5625,688.7969 Q551.9844,688.2031 551.0625,688.2031 Q549.8906,688.2031 549.1875,689.6094 Q548.4844,691 548.4844,693.1719 Q548.4844,695.5625 549.0781,696.8281 Q549.6875,698.0781 551,698.0781 Q551.9219,698.0781 552.5938,697.4063 Q553.2656,696.7188 553.5938,695.1406 L554.6406,695.6406 Q554.2344,697.4063 553.25,698.3906 Q552.2656,699.3594 550.9219,699.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="203" x="566" y="699.5576">ParticipateCountQualificationStrategy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="538" x2="771" y1="710" y2="710"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="538" x2="771" y1="718" y2="718"/><!--class CampaignService--><rect fill="#FEFECE" filter="url(#fip7ehe60huph)" height="108.0918" id="CampaignService" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="524.5" y="36"/><ellipse cx="539.5" cy="52" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M538.4219,57.3594 Q536.3906,57.3594 535.2031,55.8594 Q534.0313,54.3594 534.0313,51.25 Q534.0313,48.6094 535.2813,46.8438 Q536.5313,45.0625 538.6875,45.0625 Q539.2188,45.0625 539.6875,45.2344 Q540.1563,45.3906 540.4219,45.3906 Q540.6094,45.3906 540.7031,45.3594 Q540.7969,45.3125 541.3438,44.5938 L542.1563,48.5625 L541.1094,48.875 Q540.6563,47.375 540.0625,46.7969 Q539.4844,46.2031 538.5625,46.2031 Q537.3906,46.2031 536.6875,47.6094 Q535.9844,49 535.9844,51.1719 Q535.9844,53.5625 536.5781,54.8281 Q537.1875,56.0781 538.5,56.0781 Q539.4219,56.0781 540.0938,55.4063 Q540.7656,54.7188 541.0938,53.1406 L542.1406,53.6406 Q541.7344,55.4063 540.75,56.3906 Q539.7656,57.3594 538.4219,57.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="553.5" y="57.5576">CampaignService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="525.5" x2="653.5" y1="68" y2="68"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="525.5" x2="653.5" y1="76" y2="76"/><ellipse cx="535.5" cy="87" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="544.5" y="92.606">create(array data)</text><ellipse cx="535.5" cy="102.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="544.5" y="107.6289">update(array data)</text><ellipse cx="535.5" cy="117.0459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="544.5" y="122.6519">delete(int id)</text><ellipse cx="535.5" cy="132.0688" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="544.5" y="137.6748">findById(int id)</text><!--reverse link PricePolicyInterface to PricePolicy--><path d="M312.876,338.737 C319.329,359.611 326.768,383.673 333.005,403.848 " fill="none" id="PricePolicyInterface&lt;-PricePolicy" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="306.167,340.736,306.948,319.56,319.543,336.601,306.167,340.736" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link PriceStrategyInterface to OverMinusPriceStrategy--><path d="M346.5,637.6785 C346.5,651.7251 346.5,666.2647 346.5,677.8637 " fill="none" id="PriceStrategyInterface&lt;-OverMinusPriceStrategy" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="339.5,637.1839,346.5,617.184,353.5,637.1839,339.5,637.1839" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link QualificationPolicyInterface to QualificationPolicy--><path d="M671.552,339.387 C668.284,360.11 664.534,383.882 661.385,403.848 " fill="none" id="QualificationPolicyInterface&lt;-QualificationPolicy" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="664.649,338.226,674.68,319.56,678.478,340.407,664.649,338.226" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link QualificaitonStrategyInterface to ParticipateCountQualificationStrategy--><path d="M654.5,637.6785 C654.5,651.7251 654.5,666.2647 654.5,677.8637 " fill="none" id="QualificaitonStrategyInterface&lt;-ParticipateCountQualificationStrategy" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="647.5,637.1839,654.5,617.184,661.5,637.1839,647.5,637.1839" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link CampaignInterface to Campaign--><path d="M431.256,169.71 C445.442,197.794 460.739,228.078 472.235,250.839 " fill="none" id="CampaignInterface&lt;-Campaign" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="424.915,172.681,422.146,151.673,437.412,166.369,424.915,172.681" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link Campaign to PricePolicy--><path d="M448.678,335.033 C428.932,356.768 405.487,382.573 386.039,403.98 " fill="none" id="Campaign&lt;-PricePolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="457.463,325.363,450.4676,327.1135,449.3929,334.2441,456.3883,332.4936,457.463,325.363" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="427.5" y="370.8979">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="444.6399" y="347.6464">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="368.7658" y="393.1736">0..1</text><!--reverse link Campaign to QualificationPolicy--><path d="M537.523,334.446 C560.138,356.303 587.121,382.38 609.469,403.98 " fill="none" id="Campaign&lt;-QualificationPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="528.125,325.363,529.6593,332.409,536.7535,333.7027,535.2191,326.6567,528.125,325.363" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="577.5" y="370.8979">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="526.5637" y="347.6464">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="578.1889" y="393.1736">0..1</text><!--link PricePolicy to PriceStrategyInterface--><path d="M346.5,493.331 C346.5,511.192 346.5,531.586 346.5,548.55 " fill="none" id="PricePolicy-&gt;PriceStrategyInterface" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="346.5,553.697,350.5,544.697,346.5,548.697,342.5,544.697,346.5,553.697" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="338.7781" y="543.3579">1</text><!--link QualificationPolicy to QualificaitonStrategyInterface--><path d="M654.5,493.331 C654.5,511.192 654.5,531.586 654.5,548.55 " fill="none" id="QualificationPolicy-&gt;QualificaitonStrategyInterface" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="654.5,553.697,658.5,544.697,654.5,548.697,650.5,544.697,654.5,553.697" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="646.7781" y="543.3579">1</text><!--link CampaignService to Campaign--><path d="M562.709,144.04 C546.457,176.217 526.034,216.65 511.059,246.298 " fill="none" id="CampaignService-&gt;Campaign" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="508.704,250.961,516.3322,244.7311,510.9583,246.498,509.1914,241.1242,508.704,250.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="531.5" y="217.8979">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="504.507" y="240.269">1</text><!--
@startuml campaign-class
Class OrderInfo <<Value Object>> {
    -user: User
    -products: array
    +__construct(User user, Products products = [])
    +user():User
    +products():[]
    +getTotal():int
    +getParticipateCount():int
}
interface CampaignInterface {
    +getStartTime(): DateTime
    +getEndTime(): DateTime
    +addProduct(Product $product):void
    +calculatePrice(OrderInfo order):int
    +isQualified(OrderInfo order):bool
}
interface PricePolicyInterface {
    +calculatePrice(OrderInfo order):int
}
interface PriceStrategyInterface {
    +calculate(OrderInfo order):int
}
interface QualificationPolicyInterface {
    +isQualified(OrderInfo order):bool
}
interface QualificaitonStrategyInterface {
    +isQualified(CampaignInterface $campaign OrderInfo order):bool
}

abstract OrmModel {
    +createInstance():void
    +updateInstance():void
    +findById(int id):OrmModel
    +delete(int id):void
}

class Campaign <<OrmModel>> {
    +products():Collection
}
class PricePolicy <<OrmModel>> {
    -strategy:string 
    -parameters: string 
}
class OverMinusPriceStrategy 
class QualificationPolicy <<OrmModel>> {
    -strategy:string 
    -parameters: string 
}
class ParticipateCountQualificationStrategy
class CampaignService {
    +create(array data)
    +update(array data)
    +delete(int id)
    +findById(int id)
}


PricePolicyInterface <|.. PricePolicy
PriceStrategyInterface <|.. OverMinusPriceStrategy
QualificationPolicyInterface <|.. QualificationPolicy
QualificaitonStrategyInterface <|.. ParticipateCountQualificationStrategy
CampaignInterface <|- - Campaign

Campaign "1" o- - "0..1" PricePolicy : has
Campaign "1" o- - "0..1" QualificationPolicy : has
PricePolicy - -> "1" PriceStrategyInterface 
QualificationPolicy - -> "1" QualificaitonStrategyInterface
CampaignService - -> "1" Campaign : uses
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.5+10-LTS
Operating System: Windows 7
OS Version: 6.1
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>